/*! cmsmasters-elementor-addon - v1.11.6 - 05-03-2024 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[8718],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[s]=t;Array.isArray(s)||(s=s.split(/\s/));const[,i]=t;s.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return i(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],s=elementorFrontend.getCurrentDeviceMode(),i=this.getElementSettings();let n=t.indexOf(s);for(;n>0;){const s=i[e+"_"+t[n]];if(s&&"object"==typeof s&&Object.prototype.hasOwnProperty.call(s,"size")&&s.size)return s;n--}return i[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},5898:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.ViewModule{__construct(e){super.__construct(e),this.$element=e.widget,this.controls=e.controls,this.type=!!e.type&&e.type,"custom"===this.type&&(this.container=e.container?e.container:null,this.translateNames=e.translateNames?e.translateNames:[]),"document"===this.type&&(this.documents=e.documents?e.documents:{}),this.contentGap=44,this.elementorDocument="data-elementor-id",this.handles={}}getDefaultSettings(){const e="elementor-document-handle",t={handle:e,handleWrap:`${e}-wrapper`,handleInner:`${e}-inner`,handleTitle:`${e}__title`,widgetContainer:"elementor-widget-container",widgetTemplate:"cmsmasters-widget-template",parentDocument:"cmsmasters-parent-document",templateStyles:"cmsmasters-template-styles",editMode:"elementor-edit-mode"};return{classes:t,selectors:{handle:`.${t.handle}`,handleWrap:`.${t.handleWrap}`,handleInner:`.${t.handleInner}`,handleTitle:`.${t.handleTitle}`,widgetContainer:`> .${t.widgetContainer}`,editMode:`.${t.editMode}`}}}getDefaultElements(){if("document"===this.type)return;const{selectors:e}=this.getSettings(),t={$widgetContainer:this.$element.find(e.widgetContainer)};return this.container&&(t.$widgetContainer=this.container),t}onInit(){super.onInit(),this.createTemplateHandles()}createTemplateHandles(){switch(this.type){case"document":this.createControlDocumentHandles();break;case"listing":this.createControlTemplateHandles();break;case"custom":this.createRepeaterTemplateHandles();break;default:this.createWidgetTemplateHandles()}}createControlDocumentHandles(){const{classes:e,selectors:t}=this.getSettings();Object.values(this.documents).forEach((s=>{const i=s.$element;if(i.hasClass(e.editMode))return;if(i.children(t.handle).length)return;const n=jQuery("<div>",{class:e.handle}),r=i.data("elementor-title");n.append(this.getHandleInner(s,r)),i.prepend(n)}))}getHandleInner(e,t){const{classes:s}=this.getSettings(),i=jQuery("<i>",{class:"eicon-edit"}),n="document"!==this.type?cmsmastersElementorFrontend.translate(t):t,r=jQuery("<div>",{class:s.handleTitle}).text(cmsmastersElementorFrontend.translate("edit_element",[n]));return jQuery("<div>",{class:s.handleInner}).append(i,r).on("click",(()=>this.onDocumentHandleClick(e)))}createControlTemplateHandles(){const{classes:e,selectors:t}=this.getSettings(),s=this.elements.$widgetContainer.closest(".elementor").not(t.editMode);if(s.length&&s.data("elementor-id"))return;const i=jQuery("<div>",{class:e.handle});Object.entries(this.controls).forEach((t=>{let[s,n]=t;this.elements.$widgetContainer.addClass(e.handleWrap);const r=this.$element.find(`[${this.elementorDocument}=${n}]`).first();i.append(this.getHandleInner(r,s))})),this.elements.$widgetContainer.prepend(i)}createRepeaterTemplateHandles(){const{classes:e}=this.getSettings();Array.from(this.elements.$widgetContainer).forEach((t=>{const s=jQuery(t),i=jQuery("<div>",{class:e.handle}),n=s.find(`[${this.elementorDocument}]`).first();if(!n.length)return;const r=this.translateNames.indexOf(`saved_${n.data("elementor-type")}`);if(0>r)return;n.addClass(e.handleWrap);const o=this.translateNames[r];i.append(this.getHandleInner(n,o)),n.prepend(i)}))}createWidgetTemplateHandles(){const{classes:e,selectors:t}=this.getSettings(),s=this.elements.$widgetContainer.closest(".elementor").not(t.editMode);s.length&&s.data("elementor-id")||Object.entries(this.controls).forEach((t=>{let[s,i]=t;const n=jQuery("<div>",{class:e.handle});this.elements.$widgetContainer.addClass(e.handleWrap);const r=this.$element.find(`[${this.elementorDocument}=${i}]`).first();n.append(this.getHandleInner(r,s)),r.prepend(n)}))}onDocumentHandleClick(e){const t="document"!==this.type?e.data("elementor-id"):e.getSettings("id"),s=elementorCommon.api.run("editor/documents/switch",{id:t,mode:"autosave"});"document"!==this.type&&s.finally((()=>this.initModal(e)))}async initModal(e){const{classes:t}=this.getSettings(),s=e.data("elementor-id"),i=elementor.$previewContents.find(`[id=${t.templateStyles}-${s}]`),n=elementor.$previewContents.find(`.elementor-${s}`).first();if(this.modal)return void this.modal.setMessage(n).show();let r=e;this.container&&(r=this.$element);const o=r.closest(`.elementor:not(.elementor-${s})`);let a=`${t.widgetTemplate}-modal`,l=!1;o.length&&(l=o.data("elementor-id")),l&&(a+=` ${t.parentDocument}-${l}`),window.DialogsManager||await elementorFrontend.utils.assetsLoader.load("script","dialog"),this.modal=elementorFrontend.getDialogsManager().createWidget("lightbox",{id:`${t.widgetTemplate}-${s}`,className:a,closeButton:!0,closeButtonClass:"eicon-close",preventScroll:!0,hide:{onBackgroundClick:!0,onEscKeyPress:!0},position:{enable:!1}});const{widgetContent:d}=this.modal.getElements();"listing"!==this.type&&d.width(`${e.outerWidth()+this.contentGap}px`),this.modal.setMessage(n).show(),setTimeout((()=>{i.remove()}),1e3),this.modal.on("hide",(()=>{d.css("opacity",.5),setTimeout((()=>{this.modal.setMessage(""),l?elementorCommon.api.run("editor/documents/switch",{id:l,mode:"autosave"}).finally((()=>{this.createTemplateHandles(),elementor.dynamicTags.cleanCache(),setTimeout((()=>{this.modal.destroy(),jQuery(document).find(`[data-id=${this.$element.data("id")}]`).trigger("click")}),1e3)})):this.modal.destroy()}))}))}}t.default=_default},3207:(e,t,s)=>{var i=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(s(2277));class _default extends n.default{getDefaultSettings(){const e="cmsmasters-blog",t={base:e,variable:`${e}__posts-variable`,posts:`${e}__posts`,post:`${e}__post`};return{classes:t,selectors:{variable:`.${t.variable}`,base:`.${t.base}`,posts:`.${t.posts}`,post:`.${t.post}`}}}getDefaultElements(){const{selectors:e}=this.getSettings(),t={$base:this.findElement(e.base),$variable:this.findElement(e.variable)};return Object.defineProperty(t,"$postsWrap",{get:()=>this.findElement(e.posts)}),Object.defineProperty(t,"$posts",{get:()=>this.findElement(e.post)}),t}}t.default=_default},6845:(e,t,s)=>{var i=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(s(3207)),r=i(s(5898)),o=i(s(7143));const a=s(2363);class ThemeBlogSlider extends n.default{__construct(){super.__construct(...arguments),this.slider=null,this.handles=null}getDefaultSettings(){const e=super.getDefaultSettings(...arguments),t="elementor-widget-cmsmasters-theme-blog";return e.selectors=Object.assign(e.selectors,{widgetWrapper:".cmsmasters-blog",post:`.${t}__post`,popupTrigger:`.${t}__post-add-to-button-trigger`,popupPopup:`.${t}__post-add-to-quote-popup`,popupClose:`.${t}__post-add-to-quote-popup-close`,addToQuote:`.${t}__post-add-to-quote`,inputs:`.${t}__post-add-to-quote-inputs`,inputItem:`.${t}__post-add-to-quote-input-item`,input:`.${t}__post-add-to-quote-input`,inputOperator:`.${t}__post-add-to-quote-input-operator`,quoteButtonWrap:`.${t}__post-add-to-quote-button-wrap`,quoteButton:".theme_add_to_quote_popup",wrapper:`.${t}__wrapper`,wrapperInner:`.${t}__wrapper-inner`,elementorWidgetContainer:".elementor-widget-container",popup:".popup",checkbox:`.${t}__post-add-to-quote-popup-choose-product-attr-checkbox`,popupCont:`.${t}__post-add-to-quote-popup-cont`,popupChooseProduct:`.${t}__post-add-to-quote-popup-choose-product`,popupChooseInnerContWrap:`.${t}__post-add-to-quote-popup-collection-inner-cont-wrap`,addToCart:".single_add_to_cart_button"}),e}getDefaultElements(){const e=super.getDefaultElements(...arguments),{selectors:t}=this.getSettings();return e.$widgetWrapper=this.findElement(t.widgetWrapper),e.$addToQuote=this.findElement(t.addToQuote),e.$inputs=this.findElement(t.inputs),e.$input=this.findElement(t.input),e}initElements(){super.initElements(),this.slider=new o.default({widget:this})}bindEvents(){const{selectors:e}=this.getSettings(),t=this.getElementSettings();this.bindElementChange("image_ratio image_ratio_switcher",a.debounce(this.slider.update.bind(this.slider))),this.slider.on("options",(e=>{e.loop&&e.slidesPerView>this.slider.elements.$slides.length&&(e.loop=!1)})),"product"===t.blog_post_type&&(this.elements.$widgetWrapper.on("click",e.popupTrigger,this.popupTriggerClick.bind(this)),this.elements.$widgetWrapper.on("click",e.popupClose,this.popupCloseClick.bind(this)),this.elements.$widgetWrapper.on("click",e.inputOperator,this.inputOperatorClick.bind(this)),this.elements.$widgetWrapper.on("input",e.input,this.textInput.bind(this)),jQuery(document).on("input",this.activeInput.bind(this)),this.elements.$widgetWrapper.on("click",e.quoteButton,this.quoteButtonClick.bind(this)),this.elements.$widgetWrapper.on("click",e.addToCart,this.addingToCartAjax.bind(this)),this.elements.$widgetWrapper.on("change",e.checkbox,this.checkboxClick.bind(this)))}onInit(){super.onInit(),this.slider.init(),this.initHandles()}initHandles(){if(!elementorFrontend.isEditMode())return;this.handles=new r.default({widget:this.$element,controls:{},type:"listing"})}popupTriggerClick(e){const{selectors:t}=this.getSettings(),s=jQuery(e.currentTarget),i=s.closest(t.post).attr("id");s.addClass("active"),s.closest(t.widgetWrapper).find(`${t.popupPopup}#${i}`).addClass("visible"),s.closest("html").css("overflow-y","hidden")}popupCloseClick(e){const{selectors:t}=this.getSettings(),s=jQuery(e.currentTarget),i=s.closest(t.popupPopup).attr("id");s.closest(t.popupPopup).removeClass("visible"),s.closest(t.widgetWrapper).find(`${t.post}#${i}`).find(t.popupTrigger).removeClass("active"),s.closest("html").css("overflow-y","")}quoteButtonClick(e){const{selectors:t}=this.getSettings();e.preventDefault();const s=jQuery(e.currentTarget),i=s.closest(t.quoteButtonWrap);let n=null,r=null;s.parents("ul.products").length>0?(n=s.parents("li.product").find('input[name="add-to-cart"]'),r=s.parents("li.product").find('input[name="product_id"]')):(n=s.parents(".product").find('input[name="add-to-cart"]'),r=s.parents(".product").find('input[name="product_id"]'));const o=s.closest(t.addToQuote),a=s.data("wp_nonce"),l=s.data("product_id"),d=s.data("list_text"),c=o.attr("product-uom");let p=o.find(t.inputItem+'[product-uom="'+c+'"] input').val();(isNaN(p)||0===p.length)&&(p=1);const u=i.hasClass("quote_premium");let h;u?(h=new FormData,h.append("context","frontend"),h.append("action","yith_ywraq_action"),h.append("ywraq_action","add_item"),h.append("product_id",l),h.append("wp_nonce",a),h.append("yith-add-to-cart",l),h.append("quantity",p)):(h="ac",(n.length>0&&r.length>0||jQuery(".cart").length>0)&&(h=jQuery(".cart").serialize()),h+="&action=yith_ywraq_action&ywraq_action=add_item&quantity="+p+"&product_id="+l+"&_wpnonce="+a);const g=u?ywraq_frontend.ajaxurl.toString().replace("%%endpoint%%","yith_ywraq_action"):ywraq_frontend.ajaxurl;jQuery.ajax({type:"POST",url:g,dataType:"json",data:h,contentType:!1,processData:!1,beforeSend:function(){s.siblings(".ajax-loading").css({opacity:"1",visibility:"visible"}),s.parent().addClass("choose_hide").removeClass("choose_show").closest(t.popupCont).find(`${t.popupChooseProduct}.choose`).addClass("added-product")},complete:function(){s.siblings(".ajax-loading").css({opacity:"0",visibility:"hidden"})},success:e=>{if("true"==e.result||"exists"==e.result)if("yes"===ywraq_frontend.go_to_the_list)window.location.href=e.rqa_url;else{s.parent().hide().removeClass("show").addClass("addedd");if(!s.parent().next().length>0){const t=void 0===r.val()?"":"-"+r.val();i.append('<div class="yith_ywraq_add_item_browse-list'+t+' yith_ywraq_add_item_browse_message"><a href="'+e.rqa_url+'">'+d+"</a></div>")}}else"false"==e.result&&i.append('<div class="yith_ywraq_add_item_response-'+r.val()+'">'+e.message+"</div>");let t=Number(jQuery(".request-quote-icon--count").text());t||(t=0),jQuery(".request-quote-icon--count").text(t+1);const n=jQuery('<div class="post-add-to-button-success-message fas fa-check"><span>The product has been added to your qoute list.</span><a href="/request-quote/">Open</a></div>');o.append(n),setTimeout((function(){n.fadeOut(300,(function(){jQuery(this).remove()}))}),3e3)}})}run(){const e=this,t=e.requests[0].complete;e.requests[0].complete=function(){"function"==typeof t&&t(),e.requests.shift(),e.requests.length>0&&e.run()},jQuery.ajax(this.requests[0])}addRequest(e){this.requests=[],this.requests.push(e),1===this.requests.length&&this.run()}addingToCartAjax(e){const{selectors:t}=this.getSettings();if(this.isEdit)return;const s=jQuery(e.currentTarget);if(!s.attr("data-product_id"))return!0;if(e.preventDefault(),!1===jQuery(document.body).triggerHandler("should_send_ajax_request.adding_to_cart",[s]))return jQuery(document.body).trigger("ajax_request_not_sent.adding_to_cart",[!1,!1,s]),!0;const i={},n=s.closest(t.addToQuote),r=n.attr("product-uom");let o=n.find(t.inputItem+'[product-uom="'+r+'"] input').val();(isNaN(o)||0===o.length)&&(o=1),i.quantity=o,jQuery.each(s.data(),(function(e,t){i[e]=t})),jQuery.each(s[0].dataset,(function(e,t){i[e]=t})),jQuery(document.body).trigger("adding_to_cart",[s,i]),this.addRequest({type:"POST",url:wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","add_to_cart"),data:i,beforeSend:function(){s.find(".ajax-loading").css({opacity:"1",visibility:"visible"})},complete:function(){s.find(".ajax-loading").css({opacity:"0",visibility:"hidden"})},success:function(e){if(!e)return;if(e.error&&e.product_url)return void(window.location=e.product_url);if("yes"===wc_add_to_cart_params.cart_redirect_after_add)return void(window.location=wc_add_to_cart_params.cart_url);jQuery(document.body).trigger("added_to_cart",[e.fragments,s]);const t=jQuery('<div class="post-add-to-button-success-message fas fa-check"><span>The product has been added to your cart.</span><a href="/cart/">Open</a></div>');n.append(t),setTimeout((function(){t.fadeOut(300,(function(){jQuery(this).remove()}))}),3e3)},dataType:"json"})}incrementValue(e){let t=parseInt(e.val(),10)||0;t++,e.val(t)}decrementValue(e){let t=parseInt(e.val(),10)||0;t>0&&(t--,e.val(t))}anotherInputChange(e,t,s){const{selectors:i}=this.getSettings(),n=t.attr("product-uom");let r=t.attr("product-width")*t.attr("product-height")/144;const o=Number.isInteger(r)?r:r.toFixed(2),a=parseFloat(s.val());let l="";l="each"===n?Number.isInteger(a*o)?a*o:(a*o).toFixed(2):Math.ceil(a/o),isNaN(a)&&(l="");const d="each"===n?"sqft":"each";e.closest(i.inputs).find(i.inputItem+'[product-uom="'+d+'"]').find(i.input).val(l)}inputOperatorClick(e){const{selectors:t}=this.getSettings(),s=jQuery(e.currentTarget),i=s.parent(),n=i.find(t.input);s.hasClass("increment")?this.incrementValue(n):this.decrementValue(n),this.anotherInputChange(s,i,n),this.activeInput()}textInput(e){const{selectors:t}=this.getSettings(),s=jQuery(e.currentTarget),i=s.parent(),n=i.find(t.input);this.anotherInputChange(s,i,n),this.activeInput()}activeInput(){const{selectors:e}=this.getSettings();this.elements.$inputs.find(e.inputItem).each((function(){const t=jQuery(this),s=t.find(e.input);""!==s.val().trim()&&(t.addClass("active"),t.find(".decrement").removeClass("disable")),s.focus((function(){t.addClass("active")})),s.blur((function(){s.is(":focus")||""!==s.val().trim()||t.removeClass("active")}))}))}checkboxClick(e){const{selectors:t}=this.getSettings(),s=jQuery(e.currentTarget),i=s.attr("id"),n=s.attr("data-wp_nonce"),r=s.attr("data-uoms").toLowerCase(),o=s.attr("data-product-width"),a=s.attr("data-product-height"),l=s.closest(t.popupCont),d=l.find(t.addToQuote),c=l.find(t.quoteButton),p=l.find(t.inputItem);s.closest(t.popupCont).find(t.checkbox).each((function(){jQuery(this).closest(t.popupChooseProduct).removeClass("choose").addClass("not_chooses")})),s.closest(t.popupChooseProduct).removeClass("not_chooses").addClass("choose"),d.attr("product-uom",r),c.attr("data-product_id",i).attr("data-wp_nonce",n),p.attr("product-width",o).attr("product-height",a),l.find(t.input).val(""),l.find(t.popupChooseInnerContWrap).val(""),s.closest(t.popupChooseProduct).hasClass("added-product")?l.find(".yith-ywraq-add-button").removeClass("choose_show").addClass("choose_hide"):l.find(".yith-ywraq-add-button").removeClass("choose_hide").addClass("choose_show"),l.find(t.popupChooseInnerContWrap).removeClass("show"),l.find(`${t.popupChooseInnerContWrap}[product-id="${i}"]`).addClass("show")}}t.default=ThemeBlogSlider},7143:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=s(2363);class _default extends elementorModules.ViewModule{__construct(e){super.__construct(...arguments),this.cacheHTML=null,this.swiper=null,this.widget=e.widget,this.$wrap=e.$wrap||this.widget.$element,this.reInitDebounce=i.debounce(this.reInit.bind(this),50),this.classesTemplates={},this.setSettingsPrefix(),this.setClassesTemplates(),this.bindEventsControls(),this.widget.on("destroy:before",this.destroy.bind(this))}getDefaultSettings(){const e="swiper-pagination",t="swiper-button";return{classes:{bullets:`${e}-bullets`,bulletsDynamic:`${e}-bullets-dynamic`},selectors:{arrowNext:`.${t}-next`,arrowPrev:`.${t}-prev`,bullet:`.${e}-bullet`,container:".cmsmasters-swiper-container",pagination:`.${e}`,root:".cmsmasters-slider",scrollbar:".swiper-scrollbar",slides:".swiper-slide",wrapper:".swiper-wrapper"}}}getDefaultElements(){const{selectors:e}=this.getSettings(),t=this.$wrap.find(e.root),s=t.find(e.pagination),i={$arrowNext:t.find(e.arrowNext),$arrowPrev:t.find(e.arrowPrev),$container:t.find(e.container),$pagination:s,$root:t,$scrollbar:t.find(e.scrollbar),$slides:t.find(e.slides),$wrapper:t.find(e.wrapper)};return Object.defineProperty(i,"$bullet",{get:()=>this.elements.$pagination.find(e.bullet)}),this.trigger("defaultElements",i),i}bindEventsControls(){this.widget.bindElementChange(["slider_arrows","slider_autoplay_reverse","slider_autoplay_speed","slider_autoplay","slider_bullets_container_direction","slider_bullets_type","slider_centered_slides","slider_direction","slider_effect","slider_free_mode","slider_height_type","slider_infinite","slider_mousewheel","slider_navigation","slider_pagination_container_direction","slider_pause_on_hover","slider_per_view","slider_scrollbar_visible","slider_scrollbar","slider_space_between","slider_speed","slider_to_scroll","slider_type"].map(this.getPrefixControl.bind(this)),(()=>{this.swiper&&this.widget.$element.data("initialSlide",this.swiper.realIndex),this.reInitDebounce()})),this.widget.bindElementChange(this.getPrefixControl("slider_slide_index"),(()=>{this.widget.$element.removeData("initialSlide"),this.reInitDebounce()})),this.widget.bindElementChange(Object.keys(this.classesTemplates),i.debounce(this.addGeneratedClass.bind(this),10)),this.widget.bindElementChange([this.getPrefixControl("slider_width"),this.getPrefixControl("slider_height"),this.getPrefixControl("slider_padding")],i.debounce(this.update.bind(this),100)),this.widget.bindElementChange([this.getPrefixControl("slider_centered_slides_width")],this.update.bind(this))}onInit(){super.onInit(),this.elements.$root.addClass("cmsmasters-slider--init"),this.setCacheHTML()}setSettingsPrefix(){const e=this.widget.$element.attr("data-widget_type"),[,t]=e.split(".");let s="";"default"!==t&&(s=`${t}_`),this.settingsPrefix=s}setClassesTemplates(){const e="cmsmasters-slider",t={slider_arrows_align_position:`${e}--position-arrows-{{VALUE}}`,slider_arrows_text_dir:`${e}--text-dir-arrows-{{VALUE}}`,slider_arrows:`${e}--arrows`,slider_bullets_type:`${e}--bullets-{{VALUE}}`,slider_direction:`${e}--dir-{{VALUE}}`,slider_effect:`${e}--effect-{{VALUE}}`,slider_navigation:`${e}--nav ${e}--nav-{{VALUE}}`,slider_per_view:`${e}-per-view-{{VALUE}}`,slider_progressbar_circle:`${e}--progressbar-{{VALUE}}`,slider_scrollbar_circle:`${e}--scrollbar-{{VALUE}}`,slider_scrollbar:`${e}--scrollbar`,slider_arrows_visibility:`${e}--visibility-arrows-{{VALUE}}`};for(const e in t)this.classesTemplates[this.getPrefixControl(e)]=t[e]}getPrefixControl(e){return this.settingsPrefix+e}reInit(){this.swiper&&(this.cacheHTML&&(this.elements.$root.html(this.cacheHTML),this.initElements()),this.init())}async init(){if(!this.elements.$root.length)return;this.swiper&&this.destroy();const e=elementorFrontend.utils.swiper;this.addGeneratedClasses(),this.swiper=await new e(this.elements.$container,this.getSliderOptions()),this.initLazyLoad(),this.widget.getElementSettings(this.getPrefixControl("slider_pause_on_hover"))&&this.elements.$container.hover((()=>{this.swiper.autoplay.stop()}),(()=>{this.swiper.autoplay.start()})),this.elements.$container.data("swiper",this.swiper),this.$wrap.data("cmsmastersSlider",this),this.swiper.on("beforeLoopFix",(function(){window.lazySizes&&this.$el.find(`.${lazySizes.cfg.loadingClass}`).each(((e,t)=>{jQuery(t).removeClass(lazySizes.cfg.loadingClass).addClass(lazySizes.cfg.lazyClass)}))}))}addGeneratedClasses(){for(const e in this.classesTemplates)this.addGeneratedClass(e)}addGeneratedClass(e){const t=this.classesTemplates[e];if(!t)return;const s=/{{VALUE}}$/g,i=this.widget.getCurrentDeviceSetting(e),n=t.replace(s,"");let r=this.elements.$root.attr("class").replace(new RegExp(`${n}(\\S|$|)+`,"g"),"");if(i||0===i){r+=` ${t.replace(s,i||"")}`}r=r.replace(/\s\s+/g," ").trim(),this.elements.$root.attr("class",r)}getSliderSettings(e){return this.widget.getElementSettings(this.getPrefixControl(e))}getSliderOptions(){const{selectors:e}=this.getSettings(),t=this.getEffect();let s=this.getSliderSettings("slider_per_view")||1;s=this.isHorizontal()&&"fade"!==t&&"flip"!==t?"auto"===s?s:Number(s):1;const i=elementorFrontend.config.responsive.activeBreakpoints,n=(()=>{const e={desktop:this.widget.getCurrentDeviceSettingSize(this.getPrefixControl("slider_space_between")),tablet:this.widget.getCurrentDeviceSettingSize(this.getPrefixControl("slider_space_between_tablet")),mobile:this.widget.getCurrentDeviceSettingSize(this.getPrefixControl("slider_space_between_mobile"))};for(const t in e)"number"!=typeof e[t]&&(e[t]=20);return e})(),r={autoHeight:this.isHeightAuto(),breakpoints:{},centeredSlides:Boolean(this.getSliderSettings("slider_centered_slides")),direction:this.getSliderSettings("slider_direction"),effect:t,grabCursor:!0,freeMode:Boolean(this.getSliderSettings("slider_free_mode")),initialSlide:this.getInitialSlide(),loop:Boolean(this.getSliderSettings("slider_infinite")),mousewheel:Boolean(this.getSliderSettings("slider_mousewheel")),roundLengths:!0,slidesPerView:s,spaceBetween:n.desktop,speed:this.getSliderSettings("slider_speed"),handleElementorBreakpoints:!0,watchSlidesVisibility:!0,onInit:()=>{window.lazySizes&&lazySizes.init()}};if("cube"!==t){const e={mobile:i.mobile.value,tablet:i.tablet.value},t=this.getSliderSettings("slider_to_scroll")||1;for(const s in e){const i=Number(this.widget.getCurrentDeviceSetting(`slider_per_view_${s}`))||1;r.breakpoints[e[s]]={slidesPerGroup:Number(t),slidesPerView:i<t?Math.min(i,t):i,spaceBetween:n[s]}}}if(this.getSliderSettings("slider_autoplay")?r.autoplay={delay:this.getSliderSettings("slider_autoplay_speed")||5e3,reverseDirection:this.getSliderSettings("slider_autoplay_reverse"),disableOnInteraction:!1}:r.autoplay=!1,this.getSliderSettings("slider_arrows")&&(r.navigation={nextEl:this.$wrap.find(e.arrowNext).get(0),prevEl:this.$wrap.find(e.arrowPrev).get(0)}),this.isEnablePagination()){if(r.pagination={clickable:!0,el:this.$wrap.find(e.pagination).get(0),type:this.getSliderSettings("slider_navigation")},"bullets"===this.getSliderSettings("slider_navigation"))switch(this.getSliderSettings("slider_bullets_type")){case"dynamic":r.pagination.dynamicBullets=!0;break;case"numbered":r.pagination.renderBullet=(e,t)=>`<span class="${t}">${e+1}</span>`}}else this.isEnableScrollbar()&&(r.scrollbar={draggable:!0,el:e.scrollbar,hide:!this.getSliderSettings("slider_scrollbar_visible")});return"fade"===t&&(r.fadeEffect={crossFade:!0}),1!==s&&(r.slidesPerGroup=Math.min(+this.getSliderSettings("slider_to_scroll")||1,s)),r.loop&&(r.loopedSlides=this.elements.$slides.length),this.trigger("options",r),r}initLazyLoad(){window.lazySizes&&this.elements.$slides.find("img").on("lazyloaded",(()=>{this.swiper.update()}))}isHorizontal(){return"horizontal"===this.getSliderSettings("slider_direction")}getEffect(){return"coverflow"===this.widget.getElementSettings(this.getPrefixControl("slider_type"))?"coverflow":this.widget.getElementSettings(this.getPrefixControl("slider_effect"))}isHeightAuto(){return"auto"===this.getSliderSettings("slider_height_type")}getInitialSlide(){let e=this.widget.$element.data("initialSlide");return e||(e=this.getSliderIndex()||0),e}getSliderIndex(){const e=this.getSliderSettings("slider_slide_index");return e?e-1:0}isEnablePagination(){return this.getSliderSettings("slider_navigation")}isEnableScrollbar(){return Boolean(this.getSliderSettings("slider_scrollbar"))}update(){this.swiper&&this.swiper.update()}setCacheHTML(){const e=jQuery("<div />",{html:this.elements.$root.html()});this.cacheHTML=e.html()}getAllSlides(){return jQuery(this.swiper.slides)}getCurrentSlide(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this.getAllSlides().eq(this.swiper.activeIndex);return e?t.find(e):t}destroy(){this.swiper&&(this.widget.$element.data("initialSlide",this.swiper.realIndex),this.swiper.destroy())}}t.default=_default}}]);