/*! cmsmasters-elementor-addon - v1.11.6 - 05-03-2024 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[1323],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[i]=t;Array.isArray(i)||(i=i.split(/\s/));const[,s]=t;i.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return s(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],i=elementorFrontend.getCurrentDeviceMode(),s=this.getElementSettings();let n=t.indexOf(i);for(;n>0;){const i=s[e+"_"+t[n]];if(i&&"object"==typeof i&&Object.prototype.hasOwnProperty.call(i,"size")&&i.size)return i;n--}return s[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},3750:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.ViewModule{getDefaultElements(){const{$playButton:e,$container:t}=this.getSettings();return{$playButton:e,$container:t}}onInit(){super.onInit(),this.initDraggable()}initDraggable(){const e=this.elements.$playButton;e.on("mousedown",this.returnStopDefaultEvent.bind(this)).draggable({iframeFix:!0,containment:"parent",create:()=>{e.css({cursor:"grab"})},start:()=>{e.css({cursor:"grabbing"})},stop:this.handleDraggableEnd.bind(this)})}returnStopDefaultEvent(e){return!this.isEditable()||this.stopDefaultEvent(e)}stopDefaultEvent(e){return e.preventDefault(),e.stopPropagation(),!1}isEditable(){const{widget:e}=this.getSettings();return e.$element.hasClass("elementor-element-editable")}handleDraggableEnd(e,t){const{helper:i,position:s}=t,n=this.getPositionsPercent(s.top,this.elements.$container.height()-s.top-i.height(),s.left,this.elements.$container.width()-s.left-i.width());this.savePositions(n)}getPositionsPixels(){return{}}getPositionsPercent(e,t,i,s){const{widget:n,controlsName:o}=this.getSettings(),r=n.getModelCID(),l=elementorFrontend.config.elements.data[r],a=l.attributes[o.x].unit,d=l.attributes[o.y].unit,c="%"===d?this.getTopPercent(e):e,h="%"===d?this.getBottomPercent(t):t,g="%"===a?this.getLeftPercent(i):i,u="%"===a?this.getRightPercent(s):s;return{top:c,bottom:h,left:g,right:u,topP:"%"===d?c+"%":c+"px",bottomP:"%"===d?h+"%":h+"px",leftP:"%"===a?g+"%":g+"px",rightP:"%"===a?u+"%":u+"px"}}getTopPercent(e){return this.toPercent(e,this.elements.$container.height())}getBottomPercent(e){return this.toPercent(e,this.elements.$container.height())}getLeftPercent(e){return this.toPercent(e,this.elements.$container.width())}getRightPercent(e){return this.toPercent(e,this.elements.$container.width())}toPercent(){return Number((Math.min(arguments[0],arguments[1])/Math.max(arguments[0],arguments[1])*100).toFixed(3))}savePositions(e){const{widget:t,controlsName:i}=this.getSettings(),s=t.getModelCID(),n=elementorFrontend.config.elements.data[s];n.attributes[i.x].size=e[i.horDirection],n.attributes[i.y].size=e[i.verDirection],elementorFrontend.config.elements.data[s]=n,elementor.saver.setFlagEditorChange(!0)}}t.default=_default},4839:(e,t,i)=>{var s=i(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(i(2277)),o=s(i(3750));class VideoSlider extends n.default{__construct(e){super.__construct(e),this.swiper=null}getDefaultSettings(){const e={widget:"elementor-widget-cmsmasters-video-slider",startedVideo:"started_video",stopVideo:"show-button-stop-video",activeThumbSlide:"thumb-active"};return{classes:e,selectors:{imageOverlay:`.${e.widget}__image-overlay`,stopVideoButton:`.${e.widget}__stop-video`,videoHosted:".cmsmasters-hosted-video",videoIframe:".elementor-video-iframe",thumbsSwiper:".cmsmasters_swiper_gallery",prevArrow:".cmsmasters_arrow_button_prev",nextArrow:".cmsmasters_arrow_button_next",activeSlide:".swiper-slide-active",activeThumbSlide:".thumb-active"},slidesPerView:{desktop:3,tablet:2,mobile:1}}}getDefaultElements(){const{classes:e,selectors:t}=this.getSettings(),i={$widgetContainer:this.findElement(`.${e.widget}__container`),$widgetWrap:this.findElement(`.${e.widget}__wrap`),$thumbsSwiper:this.findElement(`${t.thumbsSwiper}`),$slideItem:this.findElement(`.${e.widget}__slide-item`),$playButton:this.findElement(`.${e.widget}__play-button`),$content:this.findElement(`.${e.widget}__content`),$arrowButton:this.findElement(".cmsmasters_arrow_button"),$mainSwiper:this.findElement(".cmsmasters_swiper_content")};return i.$mainSwiperSlides=i.$mainSwiper.find(".swiper-slide"),i}bindEvents(){this.elements.$arrowButton.on("click",(()=>{this.onClickArrowButton()}))}onElementChange(e){const t=this.getElementSettings();"inside"===t.info_box_style&&("auto-center"===t.play_button_position&&this.initIconPosition(t),"custom"===t.play_button_position&&this.initIconCustomPosition(t)),1<this.getSlidesCount()&&0===e.indexOf("width")&&this.swiper.update()}async onInit(){super.onInit();const e=this.getElementSettings(),{classes:t,selectors:i}=this.getSettings();if("inside"===e.info_box_style&&("auto-center"===e.play_button_position&&this.initIconPosition(e),"custom"===e.play_button_position&&this.initIconCustomPosition(e),e.info_box_gap&&0>e.info_box_gap.size)){const t="margin-"+("bottom"===e.info_box_vertical_align?"bottom":"top");this.elements.$widgetContainer.css({[t]:this.VideoGap()})}setTimeout((()=>{this.elements.$widgetWrap.find(".elementor-repeater-item").find(i.imageOverlay).on("click",(()=>{this.handleVideo(jQuery(event.currentTarget))})),this.elements.$widgetWrap.find(".elementor-repeater-item").find(i.stopVideoButton).on("click",(()=>{this.clickStopVideoButton(),1<this.getSlidesCount()&&e.autoplay&&this.swiper.autoplay.start()}))}),500),this.swiper&&this.swiper.destroy();const s=this.elements.$mainSwiper,n=elementorFrontend.utils.swiper;this.swiper=await new n(s,this.getSwiperOptions()),1<this.getSlidesCount()&&e.pause_on_hover&&s.hover((()=>{this.swiper.autoplay.stop()}),(()=>{this.elements.$widgetContainer.hasClass(`${t.startedVideo}`)||this.swiper.autoplay.start()}))}handleVideo(e){const t=this.getElementSettings();this.playVideo(e),"inside"===t.info_box_style&&setTimeout((()=>{this.slideContentBox()}),500),1<this.getSlidesCount()&&t.autoplay&&this.swiper.autoplay.stop()}playVideo(e){const{classes:t,selectors:i}=this.getSettings();this.elements.$widgetContainer.addClass(`${t.startedVideo} ${t.stopVideo}`),e.addClass("hidden");const s=this.elements.$widgetWrap;let n=s.find(i.activeSlide);1>=this.getSlidesCount()&&(n=s.find(".elementor-repeater-item"));const o=n.find(i.videoHosted),r=o.data("lazy-load");if(n.find(o).length)return r&&o.attr("src",r),void o[0].play();const l=n.find(i.videoIframe),a=l.data("lazy-load");a&&l.attr("src",a);const d=l.attr("src"),c="autoplay=1";let h="&mute=true";if(d.includes("vimeo.com")){h="&muted=true";const e=d.indexOf("#t=");l.attr("src",d.slice(0,e)+"&"+c+h+d.slice(e))}else if(d.includes("dailymotion.com")){const e=d.replace("&autoplay=0","").replace("&autoplay=false","").replace("&mute=false","").replace("&muted=false","");l.attr("src",e+"?"+c+h)}else{const e=d.replace("&autoplay=0","").replace("&autoplay=false","").replace("&mute=false","").replace("&muted=false","");l.attr("src",e+"&"+c+h)}}stopVideo(e){const{classes:t,selectors:i}=this.getSettings(),s=this.elements.$widgetContainer,n=e.find(i.videoHosted);if(s.hasClass(t.startedVideo)){if(e.find(n).length)n.get(0).pause();else{const t=e.find(i.videoIframe).attr("src").replace("autoplay=1","autoplay=0").replace("autoplay=true","autoplay=false");e.find(i.videoIframe).attr("src",t)}s.removeClass(t.startedVideo)}}initIconCustomPosition(e){const t=elementorFrontend.config.is_rtl;let i=t?"left":"right",s="bottom";"start"===e.offset_orientation_h&&(i=t?"right":"left"),"start"===e.offset_orientation_v&&(s="top"),this.isEdit&&new o.default({widget:this,$playButton:this.elements.$playButton,$container:this.elements.$widgetContainer,controlsName:{x:"offset_x",y:"offset_y",horDirection:i,verDirection:s}})}initIconPosition(e){const t=this.elements.$slideItem.outerHeight(),i=e.info_box_gap.size;let s;s="%"===e.info_box_gap.unit?t/100*i:i;const n=this.elements.$content.outerHeight(),o=this.elements.$playButton,r=o.outerHeight()/2;let l;const a=e.info_box_vertical_align;i>=0||s<=0&&Math.abs(s)<n?t/2<n/2+s?(l=s/2-r,o.css({top:"bottom"===a?"auto":l,bottom:"bottom"===a?l:"auto"})):(l=(t-n-s)/2-r,o.css({top:"bottom"===a?l:"auto",bottom:"bottom"===a?"auto":l})):o.css({top:"0",bottom:"0"})}VideoGap(){const{selectors:e}=this.getSettings(),t=this.getElementSettings(),i=t.info_box_gap.unit,s=Math.abs(t.info_box_gap.size),n=this.elements.$widgetContainer;let o=s+i;return"%"===i&&(o=n.outerHeight()/100*s+"px"),0===n.find(e.activeThumbSlide).outerHeight()&&(o=0),o}slideContentBox(){const{selectors:e}=this.getSettings(),t=this.elements.$content,i=t.find(e.activeThumbSlide).outerHeight();this.elements.$widgetContainer.css({"margin-bottom":i});const s=this.getElementSettings("info_box_vertical_align");t.css({top:"top"===s?"100%":"auto",bottom:"top"===s?"":-i})}onClickArrowButton(){const{classes:e,selectors:t}=this.getSettings(),i=this.getElementSettings();"inside"===i.info_box_style&&this.moveContentBox(),1<this.getSlidesCount()&&i.autoplay&&this.swiper.autoplay.start();const s=this.elements.$widgetWrap;this.stopVideo(s.find(t.activeSlide)),this.elements.$widgetContainer.removeClass(e.stopVideo),s.find(t.activeSlide).find(t.imageOverlay).removeClass("hidden")}moveContentBox(){const e=this.getElementSettings(),t=this.elements.$widgetContainer,i=e.info_box_gap.size,s=i||0,n=e.info_box_vertical_align,o="padding-"+n,r="margin-"+n;"0">s?t.css({[o]:"0",[r]:this.VideoGap()}):t.css({[o]:"0",[r]:"0"});const l=s+e.info_box_gap.unit;this.elements.$content.css({top:"top"===n?l:"auto",bottom:"bottom"===n?l:"auto"})}clickStopVideoButton(){const{classes:e,selectors:t}=this.getSettings();"inside"===this.getElementSettings("info_box_style")&&this.moveContentBox();const i=this.elements.$widgetWrap;let s=i.find(t.activeSlide);1>=this.getSlidesCount()&&(s=i.find(".elementor-repeater-item"));const n=this.elements.$widgetContainer,o=s.find(t.videoHosted),r=s.find(t.videoIframe);if(n.hasClass(e.startedVideo)){if(o.length)o.get(0).pause();else{const e=r.attr("src").replace("&autoplay=1","&autoplay=0").replace("&autoplay=true","&autoplay=false");r.attr("src",e)}n.removeClass(`${e.startedVideo} ${e.stopVideo}`)}let l=i.find(t.activeSlide).find(t.imageOverlay);1>=this.getSlidesCount()&&(l=i.find(".elementor-repeater-item").find(t.imageOverlay)),l.removeClass("hidden")}getSlidesCount(){return this.elements.$mainSwiperSlides.length}getSwiperOptions(){const{classes:e,selectors:t}=this.getSettings(),i=this.getElementSettings();let s=!1;"yes"===i.loop&&(s=!0);const n=this.elements.$content,o=this.elements.$widgetContainer,r={navigation:this.getNavigation("arrows"),pagination:this.getNavigation("pagination"),grabCursor:!0,slideToClickedSlide:!0,allowTouchMove:this.allowTouchMove(),loopedSlides:this.getSlidesCount(),effect:i.effect,slidesPerView:1,slidesPerGroup:1,initialSlide:this.getInitialSlide(),loop:s,speed:i.duration,thumbs:{swiper:{el:o.find(t.thumbsSwiper).get(0),effect:"fade",slideActiveClass:e.activeThumbSlide,on:{init:()=>{n.css({height:o.find(t.activeThumbSlide).outerHeight()})},transitionStart:()=>{n.css({height:o.find(t.activeThumbSlide).outerHeight()})}}}},on:{slideChange:()=>{this.clickStopVideoButton()},slideChangeTransitionEnd:()=>{"inside"===i.info_box_style&&i.info_box_gap&&0>i.info_box_gap.size&&o.css({["margin-"+i.info_box_vertical_align]:this.VideoGap()})}},onSlideChangeEnd:function(e){s&&e.fixLoop()}};return i.autoplay&&(r.autoplay={delay:i.autoplay_speed||5e3,reverseDirection:i.autoplay_reverse,disableOnInteraction:!1}),r}onEditSettingsChange(e){1>=this.getSlidesCount()||"activeItemIndex"===e&&this.swiper.slideToLoop(this.getEditSettings("activeItemIndex")-1)}getDesktopSlidesPerView(){return this.getSlidesPerView("desktop")}getTabletSlidesPerView(){return this.getSlidesPerView("tablet")}getMobileSlidesPerView(){return this.getSlidesPerView("mobile")}getSlidesPerView(e){return this.getDeviceSlidesPerView(e)}getDeviceSlidesPerView(e){const t="slides_per_view"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getElementSettings(t)||this.getSettings("slidesPerView")[e])}getDesktopSlidesToScroll(){return this.getSlidesToScroll("desktop")}getTabletSlidesToScroll(){return this.getSlidesToScroll("tablet")}getMobileSlidesToScroll(){return this.getSlidesToScroll("mobile")}getSlidesToScroll(e){return this.getDeviceSlidesToScroll(e)}getDeviceSlidesToScroll(e){const t="slides_to_scroll"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getElementSettings(t)||1)}getNavigation(e){const{selectors:t}=this.getSettings();return this.getSlidesCount()>this.getElementSettings("slides_per_view")&&("arrows"===e?{prevEl:t.prevArrow,nextEl:t.nextArrow}:"pagination"===e?{el:".cmsmasters_pagination",type:"bullets",clickable:!0}:void 0)}getInitialSlide(){const e=this.getElementSettings();if(elementorFrontend.isEditMode()){const{initialSlide:e}=this.$element.data();if(e)return e}return e.slide_index?e.slide_index-1:0}allowTouchMove(){if(!this.isEdit)return!0}onDestroy(){elementorFrontend.isEditMode()&&this.swiper&&this.$element.data("initialSlide",this.swiper.realIndex),super.onDestroy()}}t.default=VideoSlider}}]);