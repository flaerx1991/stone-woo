/*! cmsmasters-elementor-addon - v1.11.6 - 05-03-2024 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[2805],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[s]=t;Array.isArray(s)||(s=s.split(/\s/));const[,i]=t;s.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return i(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],s=elementorFrontend.getCurrentDeviceMode(),i=this.getElementSettings();let n=t.indexOf(s);for(;n>0;){const s=i[e+"_"+t[n]];if(s&&"object"==typeof s&&Object.prototype.hasOwnProperty.call(s,"size")&&s.size)return s;n--}return i[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},947:(e,t,s)=>{var i=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(s(2277));class Audio extends n.default{getDefaultSettings(){const e="elementor-widget-cmsmasters-audio",t={widget:e,widgetButton:`${e}__controls-button`,play:"play",pause:"pause",muted:"muted",progressMovement:"cmsmasters-progress-movement",activeVolumeChange:"cmsmasters-active-volume-change"};return{classes:t,selectors:{playerWrap:`.${t.widget}__player_wrap`,audioTag:`.${t.widget}__player-audio`,playButton:`.${t.widgetButton}.cmsmasters-player-play`,volumeIcon:`.${t.widget}__volume-icon`,volumeProgressWrap:`.${t.widget}__volume-progress-wrap`,volumeProgress:`.${t.widget}__volume-progress`,volumeButton:`.${t.widgetButton}.cmsmasters-player-volume`,totalTimeValue:`.${t.widget}__total-time-value`,currentTimeValue:`.${t.widget}__current-time-value`,progressInner:`.${t.widget}__progress-inner`,progressTime:`.${t.widget}__progress-time`,progressTimeValue:`.${t.widget}__progress-time-value`}}}getDefaultElements(){const{selectors:e}=this.getSettings();return{$playerWrap:this.findElement(e.playerWrap),$audioTag:this.findElement(e.audioTag),$playButton:this.findElement(e.playButton),$volumeIcon:this.findElement(e.volumeIcon),$volumeProgressWrap:this.findElement(e.volumeProgressWrap),$volumeProgress:this.findElement(e.volumeProgress),$volumeButton:this.findElement(e.volumeButton),$totalTimeValue:this.findElement(e.totalTimeValue),$currentTimeValue:this.findElement(e.currentTimeValue),$progressInner:this.findElement(e.progressInner),$progressTime:this.findElement(e.progressTime),$progressTimeValue:this.findElement(e.progressTimeValue)}}bindEvents(){"hosted"===this.getElementSettings("audio_type")&&(this.elements.$playButton.on("click",this.player.bind(this)),this.elements.$audioTag.on("volumechange",(()=>this.volumeIconChange())),this.elements.$audioTag.on("ended",(()=>this.ended())),this.elements.$audioTag.on("timeupdate",(()=>{this.updateProgress(),this.updateTotalTime()})),this.elements.$progressInner.on("mousemove",this.viewCurrentTime.bind(this)))}onInit(){super.onInit();const e=this.getElementSettings();let t;t=""===e.hosted_insert_link?e.hosted_link.url:e.external_link,""!==t&&"hosted"===e.audio_type&&this.onPlay()}onPlay(){const e=this.getElementSettings();this.progressSlider(),this.volumeChange(),"hosted"===e.audio_type&&"yes"===e.hs_control_button_volume&&this.volumePosition()}player(){const{classes:e}=this.getSettings(),t=this.elements.$audioTag.get(0);t.paused?t.play():t.pause(),this.elements.$playerWrap.removeClass(t.paused?e.play:e.pause).addClass(t.paused?e.pause:e.play),this.elements.$playButton.get(0).title=t.paused?"Play":"Pause"}ended(){const{classes:e}=this.getSettings();this.elements.$audioTag.get(0).currentTime=0,this.elements.$playerWrap.removeClass(e.play).addClass(e.pause),this.elements.$playButton.get(0).title="Play"}conversionTime(e,t){let s=parseInt(e),i=parseInt(t);return s=s>=10?s:"0"+s,i=i>=10?i:"0"+i,s+":"+i}updateTotalTime(){const e=this.elements.$totalTimeValue,t=this.elements.$audioTag.get(0).duration,s=t/60%60,i=t%60;t?e.html(this.conversionTime(s,i)):setTimeout((function(){e.html("-- : --")}),500)}progressSlider(){const{classes:e}=this.getSettings(),t=this.elements.$audioTag.get(0),s=this.elements.$progressInner,i=t.duration;s.slider({orientation:"horizontal",range:"min",min:0,max:100,value:0,slide:(t,n)=>{const o=n.value*i/100/60%60,l=n.value*i/100%60;s.addClass(e.progressMovement),i&&this.elements.$progressTimeValue.html(this.conversionTime(o,l)),this.elements.$progressTime.get(0).style.left=n.value+"%"},stop:(i,n)=>{t.currentTime=n.value*t.duration/100,s.removeClass(e.progressMovement)}})}updateProgress(){const{classes:e}=this.getSettings(),t=this.elements.$progressInner,s=t.find("> div").get(0),i=t.find("> span").get(0),n=this.elements.$audioTag.get(0),o=n.currentTime,l=n.duration,a=o/l*100+"%";t.hasClass(e.progressMovement)||(s.style.width=a,i.style.left=a);const r=this.elements.$currentTimeValue,m=o/60%60,u=o%60;l?r.html(this.conversionTime(m,u)):setTimeout((function(){r.html("Loading...")}),500)}viewCurrentTime(e){const t=this.elements.$progressInner.get(0).offsetWidth,s=e.offsetX/t*100,i=this.elements.$audioTag.get(0).duration,n=s*i/100/60%60,o=s*i/100%60,l=this.elements.$progressTimeValue;i?l.html(this.conversionTime(n,o)):setTimeout((function(){l.html("-- : --")}),500),this.elements.$progressTime.get(0).style.left=s+"%"}volumeChange(){const{classes:e}=this.getSettings(),t=this.elements.$volumeProgressWrap,s=this.elements.$volumeButton;this.elements.$volumeProgress.slider({orientation:"vertical",range:"min",min:0,max:100,value:100,slide:(i,n)=>{this.elements.$audioTag.get(0).volume=n.value/100,t.addClass(e.activeVolumeChange),0>=n.value?s.addClass(e.muted).get(0).title=0:s.removeClass(e.muted).get(0).title=n.value+"%"},stop:function(){t.removeClass(e.activeVolumeChange)}}),s.on("click",this.volumeToggle.bind(this))}volumeToggle(){const e=this.elements.$audioTag.get(0),t=this.elements.$volumeProgress,s=t.find("> div"),i=t.find("> span").get(0),n=this.elements.$volumeButton.get(0);let o=s.data("volume-old");0===e.volume?(e.volume=parseInt(o)/100,s.get(0).style.height=o,i.style.bottom=o,n.title=o):(e.volume=0,o=s.get(0).style.height,s.data("volume-old",o).get(0).style.height=0,i.style.bottom=0,n.title=0)}volumeIconChange(){const e=this.elements.$audioTag.get(0),t="cmsmasters-volume-",s=t+"up-active",i=t+"down-active",n=t+"off-active",o=t+"mute-active";let l,a;0===e.volume?(l=`${n} ${i} ${s}`,a=o):.29>=e.volume>0?(l=`${o} ${i} ${s}`,a=n):.6>=e.volume>=.3?(l=`${o} ${n} ${s}`,a=i):e.volume>.61&&(l=`${o} ${n} ${i}`,a=s),this.elements.$volumeButton.removeClass(l).addClass(a)}volumePosition(){const e=this.elements.$volumeButton.get(0).offsetWidth,t=this.elements.$volumeProgressWrap.get(0),s=t.offsetWidth;let i;i=s>e?(s-e)/2*-1:0,t.style.left=i+"px"}unbindEvents(){this.elements.$playButton.off("click",this.player.bind(this)),this.elements.$audioTag.off("volumechange",(()=>this.volumeIconChange())),this.elements.$audioTag.off("ended",(()=>this.ended())),this.elements.$audioTag.off("timeupdate",(()=>{this.updateProgress(),this.updateTotalTime()})),this.elements.$progressInner.off("mousemove",this.viewCurrentTime.bind(this))}}t.default=Audio}}]);