/*! cmsmasters-elementor-addon - v1.11.6 - 05-03-2024 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[309],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[i]=t;Array.isArray(i)||(i=i.split(/\s/));const[,s]=t;i.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return s(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],i=elementorFrontend.getCurrentDeviceMode(),s=this.getElementSettings();let r=t.indexOf(i);for(;r>0;){const i=s[e+"_"+t[r]];if(i&&"object"==typeof i&&Object.prototype.hasOwnProperty.call(i,"size")&&i.size)return i;r--}return s[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},9775:(e,t,i)=>{var s=i(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(2277)),n=s(i(7143));i(2363);class SliderWidget extends r.default{__construct(e){super.__construct(e),this.slider=null}getDefaultSettings(){const e="16:9".split(":"),t="elementor-widget-cmsmasters-slider",i={sliderWrapper:`${t}__wrapper`,contentInner:`${t}__content-inner`,sliderBackground:`${t}__bg`,kenBurns:"cmsmasters-ken-burns-active"};return{variables:{aspectRatio:e[0]/e[1]},classes:i,selectors:{sliderWrapper:`.${i.sliderWrapper}`,contentInner:`.${i.contentInner}`,sliderBackground:`.${i.sliderBackground}`}}}getDefaultElements(){const{selectors:e}=this.getSettings();return{$swiperContainer:this.findElement(".cmsmasters-swiper-container"),$sliderWrapper:this.findElement(e.sliderWrapper)}}initElements(){super.initElements(),this.slider=new n.default({widget:this})}async onInit(){await super.onInit(...arguments),await this.sliderInit(),this.videoBackground(),setTimeout((()=>{this.onEdit()}),250)}async sliderInit(){await this.slider.init(),setTimeout((()=>{this.slider.swiper.on("slideChange",this.kenBurns.bind(this)),this.slider.swiper.on("slideChangeTransitionStart",this.contentAnimation.bind(this))}),250),this.slider.on("options",(e=>{elementorFrontend.isEditMode()&&(e.autoplay=!1)})),this.kenBurns(),this.contentAnimation()}videoBackground(){const e=this.getElementSettings(),t=this;e.slides.forEach((e=>{const i=e.slide_bg_video_link,s=e._id;if(null!==i)var r=i.indexOf("vimeo")+1,n=i.indexOf("youtube")+1;n?t.elements.$swiperContainer.find(".elementor-repeater-item-"+s+" .elementor-video-iframe").on("canplay",t.changeVideoSize(s,"youtube")):r?t.elements.$swiperContainer.find(".elementor-repeater-item-"+s+" .elementor-video-iframe").on("canplay",t.changeVideoSize(s,"vimeo")):t.elements.$swiperContainer.find(".elementor-repeater-item-"+s+" .elementor-background-video-hosted").attr("src",i).on("canplay",t.changeVideoSize(s,"hosted"))}))}getSlideVideoElement(e){var t=".elementor-background-video-container";return"hosted"!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hosted")&&(t=".elementor-video-iframe"),this.elements.$swiperContainer.find(`.elementor-repeater-item-${e} ${t}`)}changeVideoSize(e,t){const i=this.getSlideVideoElement(e,t),s=this.calcVideosSize(i);i.width(s.width).height(s.height)}calcVideosSize(e){const{variables:t}=this.getSettings(),i=e.outerWidth(),s=e.outerHeight(),r=i/s>t.aspectRatio;return{width:r?i:s*t.aspectRatio,height:r?i/t.aspectRatio:s}}kenBurns(){if("1"!==this.getElementSettings().slider_per_view)return;const{classes:e,selectors:t}=this.getSettings(),i=this.slider.getCurrentSlide(t.sliderBackground);this.slider.getAllSlides().find(t.sliderBackground).removeClass(e.kenBurns),i.addClass(e.kenBurns)}contentAnimation(){const e=this.elements.$sliderWrapper.data("animation"),{selectors:t}=this.getSettings();this.$element.find(`.swiper-slide:not(.swiper-slide-visible) ${t.contentInner}`).removeClass("animated "+e),this.$element.find(`.swiper-slide-visible ${t.contentInner}`).addClass("animated "+e)}onEdit(){elementorFrontend.isEditMode()&&this.slideStop()}slideStop(){elementorFrontend.isEditMode()&&(this.slider.swiper.autoplay.running=!1,this.slider.swiper.autoplay.stop())}onEditSettingsChange(e){"activeItemIndex"===e&&this.activateDefaultTab(e)}activateDefaultTab(e){if(!elementorFrontend.isEditMode())return;let t=this.getEditSettings(e);this.changeActiveSlide(--t)}changeActiveSlide(e){this.isActiveSlide(e)||this.activeSlide(e)}isActiveSlide(e){return e===this.slider.swiper.realIndex}activeSlide(e){const{swiper:t}=this.slider;t.slideTo(e,t.params.speed)}}t.default=SliderWidget},7143:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const s=i(2363);class _default extends elementorModules.ViewModule{__construct(e){super.__construct(...arguments),this.cacheHTML=null,this.swiper=null,this.widget=e.widget,this.$wrap=e.$wrap||this.widget.$element,this.reInitDebounce=s.debounce(this.reInit.bind(this),50),this.classesTemplates={},this.setSettingsPrefix(),this.setClassesTemplates(),this.bindEventsControls(),this.widget.on("destroy:before",this.destroy.bind(this))}getDefaultSettings(){const e="swiper-pagination",t="swiper-button";return{classes:{bullets:`${e}-bullets`,bulletsDynamic:`${e}-bullets-dynamic`},selectors:{arrowNext:`.${t}-next`,arrowPrev:`.${t}-prev`,bullet:`.${e}-bullet`,container:".cmsmasters-swiper-container",pagination:`.${e}`,root:".cmsmasters-slider",scrollbar:".swiper-scrollbar",slides:".swiper-slide",wrapper:".swiper-wrapper"}}}getDefaultElements(){const{selectors:e}=this.getSettings(),t=this.$wrap.find(e.root),i=t.find(e.pagination),s={$arrowNext:t.find(e.arrowNext),$arrowPrev:t.find(e.arrowPrev),$container:t.find(e.container),$pagination:i,$root:t,$scrollbar:t.find(e.scrollbar),$slides:t.find(e.slides),$wrapper:t.find(e.wrapper)};return Object.defineProperty(s,"$bullet",{get:()=>this.elements.$pagination.find(e.bullet)}),this.trigger("defaultElements",s),s}bindEventsControls(){this.widget.bindElementChange(["slider_arrows","slider_autoplay_reverse","slider_autoplay_speed","slider_autoplay","slider_bullets_container_direction","slider_bullets_type","slider_centered_slides","slider_direction","slider_effect","slider_free_mode","slider_height_type","slider_infinite","slider_mousewheel","slider_navigation","slider_pagination_container_direction","slider_pause_on_hover","slider_per_view","slider_scrollbar_visible","slider_scrollbar","slider_space_between","slider_speed","slider_to_scroll","slider_type"].map(this.getPrefixControl.bind(this)),(()=>{this.swiper&&this.widget.$element.data("initialSlide",this.swiper.realIndex),this.reInitDebounce()})),this.widget.bindElementChange(this.getPrefixControl("slider_slide_index"),(()=>{this.widget.$element.removeData("initialSlide"),this.reInitDebounce()})),this.widget.bindElementChange(Object.keys(this.classesTemplates),s.debounce(this.addGeneratedClass.bind(this),10)),this.widget.bindElementChange([this.getPrefixControl("slider_width"),this.getPrefixControl("slider_height"),this.getPrefixControl("slider_padding")],s.debounce(this.update.bind(this),100)),this.widget.bindElementChange([this.getPrefixControl("slider_centered_slides_width")],this.update.bind(this))}onInit(){super.onInit(),this.elements.$root.addClass("cmsmasters-slider--init"),this.setCacheHTML()}setSettingsPrefix(){const e=this.widget.$element.attr("data-widget_type"),[,t]=e.split(".");let i="";"default"!==t&&(i=`${t}_`),this.settingsPrefix=i}setClassesTemplates(){const e="cmsmasters-slider",t={slider_arrows_align_position:`${e}--position-arrows-{{VALUE}}`,slider_arrows_text_dir:`${e}--text-dir-arrows-{{VALUE}}`,slider_arrows:`${e}--arrows`,slider_bullets_type:`${e}--bullets-{{VALUE}}`,slider_direction:`${e}--dir-{{VALUE}}`,slider_effect:`${e}--effect-{{VALUE}}`,slider_navigation:`${e}--nav ${e}--nav-{{VALUE}}`,slider_per_view:`${e}-per-view-{{VALUE}}`,slider_progressbar_circle:`${e}--progressbar-{{VALUE}}`,slider_scrollbar_circle:`${e}--scrollbar-{{VALUE}}`,slider_scrollbar:`${e}--scrollbar`,slider_arrows_visibility:`${e}--visibility-arrows-{{VALUE}}`};for(const e in t)this.classesTemplates[this.getPrefixControl(e)]=t[e]}getPrefixControl(e){return this.settingsPrefix+e}reInit(){this.swiper&&(this.cacheHTML&&(this.elements.$root.html(this.cacheHTML),this.initElements()),this.init())}async init(){if(!this.elements.$root.length)return;this.swiper&&this.destroy();const e=elementorFrontend.utils.swiper;this.addGeneratedClasses(),this.swiper=await new e(this.elements.$container,this.getSliderOptions()),this.initLazyLoad(),this.widget.getElementSettings(this.getPrefixControl("slider_pause_on_hover"))&&this.elements.$container.hover((()=>{this.swiper.autoplay.stop()}),(()=>{this.swiper.autoplay.start()})),this.elements.$container.data("swiper",this.swiper),this.$wrap.data("cmsmastersSlider",this),this.swiper.on("beforeLoopFix",(function(){window.lazySizes&&this.$el.find(`.${lazySizes.cfg.loadingClass}`).each(((e,t)=>{jQuery(t).removeClass(lazySizes.cfg.loadingClass).addClass(lazySizes.cfg.lazyClass)}))}))}addGeneratedClasses(){for(const e in this.classesTemplates)this.addGeneratedClass(e)}addGeneratedClass(e){const t=this.classesTemplates[e];if(!t)return;const i=/{{VALUE}}$/g,s=this.widget.getCurrentDeviceSetting(e),r=t.replace(i,"");let n=this.elements.$root.attr("class").replace(new RegExp(`${r}(\\S|$|)+`,"g"),"");if(s||0===s){n+=` ${t.replace(i,s||"")}`}n=n.replace(/\s\s+/g," ").trim(),this.elements.$root.attr("class",n)}getSliderSettings(e){return this.widget.getElementSettings(this.getPrefixControl(e))}getSliderOptions(){const{selectors:e}=this.getSettings(),t=this.getEffect();let i=this.getSliderSettings("slider_per_view")||1;i=this.isHorizontal()&&"fade"!==t&&"flip"!==t?"auto"===i?i:Number(i):1;const s=elementorFrontend.config.responsive.activeBreakpoints,r=(()=>{const e={desktop:this.widget.getCurrentDeviceSettingSize(this.getPrefixControl("slider_space_between")),tablet:this.widget.getCurrentDeviceSettingSize(this.getPrefixControl("slider_space_between_tablet")),mobile:this.widget.getCurrentDeviceSettingSize(this.getPrefixControl("slider_space_between_mobile"))};for(const t in e)"number"!=typeof e[t]&&(e[t]=20);return e})(),n={autoHeight:this.isHeightAuto(),breakpoints:{},centeredSlides:Boolean(this.getSliderSettings("slider_centered_slides")),direction:this.getSliderSettings("slider_direction"),effect:t,grabCursor:!0,freeMode:Boolean(this.getSliderSettings("slider_free_mode")),initialSlide:this.getInitialSlide(),loop:Boolean(this.getSliderSettings("slider_infinite")),mousewheel:Boolean(this.getSliderSettings("slider_mousewheel")),roundLengths:!0,slidesPerView:i,spaceBetween:r.desktop,speed:this.getSliderSettings("slider_speed"),handleElementorBreakpoints:!0,watchSlidesVisibility:!0,onInit:()=>{window.lazySizes&&lazySizes.init()}};if("cube"!==t){const e={mobile:s.mobile.value,tablet:s.tablet.value},t=this.getSliderSettings("slider_to_scroll")||1;for(const i in e){const s=Number(this.widget.getCurrentDeviceSetting(`slider_per_view_${i}`))||1;n.breakpoints[e[i]]={slidesPerGroup:Number(t),slidesPerView:s<t?Math.min(s,t):s,spaceBetween:r[i]}}}if(this.getSliderSettings("slider_autoplay")?n.autoplay={delay:this.getSliderSettings("slider_autoplay_speed")||5e3,reverseDirection:this.getSliderSettings("slider_autoplay_reverse"),disableOnInteraction:!1}:n.autoplay=!1,this.getSliderSettings("slider_arrows")&&(n.navigation={nextEl:this.$wrap.find(e.arrowNext).get(0),prevEl:this.$wrap.find(e.arrowPrev).get(0)}),this.isEnablePagination()){if(n.pagination={clickable:!0,el:this.$wrap.find(e.pagination).get(0),type:this.getSliderSettings("slider_navigation")},"bullets"===this.getSliderSettings("slider_navigation"))switch(this.getSliderSettings("slider_bullets_type")){case"dynamic":n.pagination.dynamicBullets=!0;break;case"numbered":n.pagination.renderBullet=(e,t)=>`<span class="${t}">${e+1}</span>`}}else this.isEnableScrollbar()&&(n.scrollbar={draggable:!0,el:e.scrollbar,hide:!this.getSliderSettings("slider_scrollbar_visible")});return"fade"===t&&(n.fadeEffect={crossFade:!0}),1!==i&&(n.slidesPerGroup=Math.min(+this.getSliderSettings("slider_to_scroll")||1,i)),n.loop&&(n.loopedSlides=this.elements.$slides.length),this.trigger("options",n),n}initLazyLoad(){window.lazySizes&&this.elements.$slides.find("img").on("lazyloaded",(()=>{this.swiper.update()}))}isHorizontal(){return"horizontal"===this.getSliderSettings("slider_direction")}getEffect(){return"coverflow"===this.widget.getElementSettings(this.getPrefixControl("slider_type"))?"coverflow":this.widget.getElementSettings(this.getPrefixControl("slider_effect"))}isHeightAuto(){return"auto"===this.getSliderSettings("slider_height_type")}getInitialSlide(){let e=this.widget.$element.data("initialSlide");return e||(e=this.getSliderIndex()||0),e}getSliderIndex(){const e=this.getSliderSettings("slider_slide_index");return e?e-1:0}isEnablePagination(){return this.getSliderSettings("slider_navigation")}isEnableScrollbar(){return Boolean(this.getSliderSettings("slider_scrollbar"))}update(){this.swiper&&this.swiper.update()}setCacheHTML(){const e=jQuery("<div />",{html:this.elements.$root.html()});this.cacheHTML=e.html()}getAllSlides(){return jQuery(this.swiper.slides)}getCurrentSlide(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this.getAllSlides().eq(this.swiper.activeIndex);return e?t.find(e):t}destroy(){this.swiper&&(this.widget.$element.data("initialSlide",this.swiper.realIndex),this.swiper.destroy())}}t.default=_default}}]);