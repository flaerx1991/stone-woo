/*! cmsmasters-elementor-addon - v1.11.6 - 05-03-2024 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[2804],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[n]=t;Array.isArray(n)||(n=n.split(/\s/));const[,a]=t;n.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return a(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],n=elementorFrontend.getCurrentDeviceMode(),a=this.getElementSettings();let s=t.indexOf(n);for(;s>0;){const n=a[e+"_"+t[s]];if(n&&"object"==typeof n&&Object.prototype.hasOwnProperty.call(n,"size")&&n.size)return n;s--}return a[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},5806:(e,t,n)=>{var a=n(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n(2277));class Countdown extends s.default{__construct(e){super.__construct(e),this.cache=null}cacheElements(){const e=".elementor-widget-cmsmasters-countdown",t=this.$element.find(`${e}__wrapper`);this.cache={$countDown:t,timeInterval:null,elements:{$countdown:t.find(`${e}__wrapper`),$daysSpan:t.find(`${e}__days`),$hoursSpan:t.find(`${e}__hours`),$minutesSpan:t.find(`${e}__minutes`),$secondsSpan:t.find(`${e}__seconds`),$expireMessage:t.parent().find(`${e}__expire-message`)},data:{id:this.$element.data("id"),endTime:new Date(1e3*t.data("date")),actions:t.data("expire-actions"),evergreenInterval:t.data("evergreen-interval")}}}onInit(){elementorModules.frontend.handlers.Base.prototype.onInit.apply(this,arguments),this.cacheElements(),0<this.cache.data.evergreenInterval&&(this.cache.data.endTime=this.getEvergreenDate()),this.initializeClock()}updateClock(){const e=this,t=this.getTimeRemaining(this.cache.data.endTime);jQuery.each(t.parts,(function(t){const n=e.cache.elements["$"+t+"Span"];let a=this.toString();1===a.length&&(a=0+a),n.length&&n.text(a)})),t.total<=0&&(clearInterval(this.cache.timeInterval),this.runActions())}initializeClock(){const e=this;this.updateClock(),this.cache.timeInterval=setInterval((function(){e.updateClock()}),1e3)}runActions(){const e=this;e.$element.trigger("countdown_expire",e.$element),this.cache.data.actions&&this.cache.data.actions.forEach((function(t){switch(t.type){case"hide":e.cache.$countDown.hide();break;case"redirect":t.redirect_url&&(window.location.href=t.redirect_url);break;case"message":e.cache.elements.$expireMessage.show()}}))}getTimeRemaining(e){const t=e-new Date;let n=Math.floor(t/1e3%60),a=Math.floor(t/1e3/60%60),s=Math.floor(t/36e5%24),i=Math.floor(t/864e5);return(i<0||s<0||a<0)&&(n=a=s=i=0),{total:t,parts:{days:i,hours:s,minutes:a,seconds:n}}}getEvergreenDate(){const e=this,t=this.cache.data.id,n=this.cache.data.evergreenInterval,a=t+"-evergreen_due_date",s=t+"-evergreen_interval",i={dueDate:localStorage.getItem(a),interval:localStorage.getItem(s)},initEvergreen=function(){var t=new Date;return e.cache.data.endTime=t.setSeconds(t.getSeconds()+n),localStorage.setItem(a,e.cache.data.endTime),localStorage.setItem(s,n),e.cache.data.endTime};return null===i.dueDate&&null===i.interval||null!==i.dueDate&&n!==parseInt(i.interval,10)?initEvergreen():i.dueDate>0&&parseInt(i.interval,10)===n?i.dueDate:void 0}}t.default=Countdown}}]);