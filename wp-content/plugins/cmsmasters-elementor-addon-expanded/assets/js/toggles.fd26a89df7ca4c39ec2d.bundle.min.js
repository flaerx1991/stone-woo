/*! cmsmasters-elementor-addon - v1.11.6 - 05-03-2024 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[9403],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[s]=t;Array.isArray(s)||(s=s.split(/\s/));const[,n]=t;s.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return n(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],s=elementorFrontend.getCurrentDeviceMode(),n=this.getElementSettings();let i=t.indexOf(s);for(;i>0;){const s=n[e+"_"+t[i]];if(s&&"object"==typeof s&&Object.prototype.hasOwnProperty.call(s,"size")&&s.size)return s;i--}return n[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},5898:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.ViewModule{__construct(e){super.__construct(e),this.$element=e.widget,this.controls=e.controls,this.type=!!e.type&&e.type,"custom"===this.type&&(this.container=e.container?e.container:null,this.translateNames=e.translateNames?e.translateNames:[]),"document"===this.type&&(this.documents=e.documents?e.documents:{}),this.contentGap=44,this.elementorDocument="data-elementor-id",this.handles={}}getDefaultSettings(){const e="elementor-document-handle",t={handle:e,handleWrap:`${e}-wrapper`,handleInner:`${e}-inner`,handleTitle:`${e}__title`,widgetContainer:"elementor-widget-container",widgetTemplate:"cmsmasters-widget-template",parentDocument:"cmsmasters-parent-document",templateStyles:"cmsmasters-template-styles",editMode:"elementor-edit-mode"};return{classes:t,selectors:{handle:`.${t.handle}`,handleWrap:`.${t.handleWrap}`,handleInner:`.${t.handleInner}`,handleTitle:`.${t.handleTitle}`,widgetContainer:`> .${t.widgetContainer}`,editMode:`.${t.editMode}`}}}getDefaultElements(){if("document"===this.type)return;const{selectors:e}=this.getSettings(),t={$widgetContainer:this.$element.find(e.widgetContainer)};return this.container&&(t.$widgetContainer=this.container),t}onInit(){super.onInit(),this.createTemplateHandles()}createTemplateHandles(){switch(this.type){case"document":this.createControlDocumentHandles();break;case"listing":this.createControlTemplateHandles();break;case"custom":this.createRepeaterTemplateHandles();break;default:this.createWidgetTemplateHandles()}}createControlDocumentHandles(){const{classes:e,selectors:t}=this.getSettings();Object.values(this.documents).forEach((s=>{const n=s.$element;if(n.hasClass(e.editMode))return;if(n.children(t.handle).length)return;const i=jQuery("<div>",{class:e.handle}),a=n.data("elementor-title");i.append(this.getHandleInner(s,a)),n.prepend(i)}))}getHandleInner(e,t){const{classes:s}=this.getSettings(),n=jQuery("<i>",{class:"eicon-edit"}),i="document"!==this.type?cmsmastersElementorFrontend.translate(t):t,a=jQuery("<div>",{class:s.handleTitle}).text(cmsmastersElementorFrontend.translate("edit_element",[i]));return jQuery("<div>",{class:s.handleInner}).append(n,a).on("click",(()=>this.onDocumentHandleClick(e)))}createControlTemplateHandles(){const{classes:e,selectors:t}=this.getSettings(),s=this.elements.$widgetContainer.closest(".elementor").not(t.editMode);if(s.length&&s.data("elementor-id"))return;const n=jQuery("<div>",{class:e.handle});Object.entries(this.controls).forEach((t=>{let[s,i]=t;this.elements.$widgetContainer.addClass(e.handleWrap);const a=this.$element.find(`[${this.elementorDocument}=${i}]`).first();n.append(this.getHandleInner(a,s))})),this.elements.$widgetContainer.prepend(n)}createRepeaterTemplateHandles(){const{classes:e}=this.getSettings();Array.from(this.elements.$widgetContainer).forEach((t=>{const s=jQuery(t),n=jQuery("<div>",{class:e.handle}),i=s.find(`[${this.elementorDocument}]`).first();if(!i.length)return;const a=this.translateNames.indexOf(`saved_${i.data("elementor-type")}`);if(0>a)return;i.addClass(e.handleWrap);const l=this.translateNames[a];n.append(this.getHandleInner(i,l)),i.prepend(n)}))}createWidgetTemplateHandles(){const{classes:e,selectors:t}=this.getSettings(),s=this.elements.$widgetContainer.closest(".elementor").not(t.editMode);s.length&&s.data("elementor-id")||Object.entries(this.controls).forEach((t=>{let[s,n]=t;const i=jQuery("<div>",{class:e.handle});this.elements.$widgetContainer.addClass(e.handleWrap);const a=this.$element.find(`[${this.elementorDocument}=${n}]`).first();i.append(this.getHandleInner(a,s)),a.prepend(i)}))}onDocumentHandleClick(e){const t="document"!==this.type?e.data("elementor-id"):e.getSettings("id"),s=elementorCommon.api.run("editor/documents/switch",{id:t,mode:"autosave"});"document"!==this.type&&s.finally((()=>this.initModal(e)))}async initModal(e){const{classes:t}=this.getSettings(),s=e.data("elementor-id"),n=elementor.$previewContents.find(`[id=${t.templateStyles}-${s}]`),i=elementor.$previewContents.find(`.elementor-${s}`).first();if(this.modal)return void this.modal.setMessage(i).show();let a=e;this.container&&(a=this.$element);const l=a.closest(`.elementor:not(.elementor-${s})`);let o=`${t.widgetTemplate}-modal`,r=!1;l.length&&(r=l.data("elementor-id")),r&&(o+=` ${t.parentDocument}-${r}`),window.DialogsManager||await elementorFrontend.utils.assetsLoader.load("script","dialog"),this.modal=elementorFrontend.getDialogsManager().createWidget("lightbox",{id:`${t.widgetTemplate}-${s}`,className:o,closeButton:!0,closeButtonClass:"eicon-close",preventScroll:!0,hide:{onBackgroundClick:!0,onEscKeyPress:!0},position:{enable:!1}});const{widgetContent:d}=this.modal.getElements();"listing"!==this.type&&d.width(`${e.outerWidth()+this.contentGap}px`),this.modal.setMessage(i).show(),setTimeout((()=>{n.remove()}),1e3),this.modal.on("hide",(()=>{d.css("opacity",.5),setTimeout((()=>{this.modal.setMessage(""),r?elementorCommon.api.run("editor/documents/switch",{id:r,mode:"autosave"}).finally((()=>{this.createTemplateHandles(),elementor.dynamicTags.cleanCache(),setTimeout((()=>{this.modal.destroy(),jQuery(document).find(`[data-id=${this.$element.data("id")}]`).trigger("click")}),1e3)})):this.modal.destroy()}))}))}}t.default=_default},6722:(e,t,s)=>{var n=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(s(2277)),a=n(s(5898));class _default extends i.default{__construct(e){super.__construct(e),this.defaults={showTabFn:"show",hideTabFn:"hide",toggleSelf:!1,hidePrevious:!0,autoExpand:!0},this.handles=null,this.translateNames=["saved_section","saved_page"]}getDefaultSettings(){const e=jQuery.extend({},this.defaults);return e.activeTab=1,e}getDefaultElements(){const{selectors:e}=this.getSettings();return{$window:jQuery(window),$toggleTitle:this.findElement(e.tabTitle),$toggleContent:this.findElement(e.tabContent)}}bindEvents(){this.elements.$toggleTitle.on("click",this.tabClickHandle.bind(this)).on("keydown",(e=>{"Enter"===e.key&&this.tabClickHandle()}))}onInit(){super.onInit(),this.activateDefaultTab(),this.initHandles()}activateDefaultTab(){const{activeTab:e,showTabFn:t,hideTabFn:s}=this.getSettings();if(this.isEdit)return;const n=this.getEditSettings("activeItemIndex")||e;this.setSettings({showTabFn:"show",hideTabFn:"hide"}),this.changeTab(n),this.setSettings({showTabFn:t,hideTabFn:s})}changeTab(e){const{toggleSelf:t,hidePrevious:s}=this.getSettings(),n=this.isActiveTab(e);!s||!t&&n||this.deactivateActiveTab(),!s&&n&&this.deactivateActiveTab(e),n||this.activateTab(e)}isActiveTab(e){const{classes:t}=this.getSettings();return this.getActive(e).hasClass(t.activeTab)}getActive(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t||(t=this.elements.$toggleTitle),s||(s=`[data-tab="${e}"]`),t.filter(s)}activateTab(e){const{classes:t}=this.getSettings(),s=this.getActive(e),n=this.getActive(e,this.elements.$toggleContent);s.add(n).addClass(t.activeTab),n.slideDown("fast",(function(){jQuery(this).addClass(t.activeTab)}))}deactivateActiveTab(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{classes:t}=this.getSettings();let s="";e||(s=`.${t.activeTab}`);const n=this.getActive(e,!1,s),i=this.getActive(e,this.elements.$toggleContent,s);n.add(i).removeClass(t.activeTab),i.slideUp("fast",(function(){jQuery(this).removeClass(t.activeTab)}))}tabClickHandle(e){e.preventDefault();const t=jQuery(e.currentTarget).data("tab");this.changeTab(t)}onEditSettingsChange(e){"activeItemIndex"===e&&this.activateDefaultTab()}initHandles(){this.isEdit&&(this.handles=new a.default({widget:this.$element,type:"custom",container:this.elements.$tabContent,translateNames:this.translateNames}))}}t.default=_default},9218:(e,t,s)=>{var n=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(s(6722));class Toggles extends i.default{getDefaultSettings(){const e=super.getDefaultSettings();let t="",s="";"toggles"===this.getElementSettings("type")?(t=!1,s="editor"):(t=!0,s=!0),e.classes={activeToggle:"active-toggle"};const n="elementor-widget-cmsmasters-toggles";return e.selectors={toggleTitle:`.${n}__title`,toggleContent:`.${n}__content`,links:'a[href*="#"]'},e.activeTab=this.getActiveToggle(),{...e,showTabFn:"slideDown",hideTabFn:"slideUp",hidePrevious:t,autoExpand:s}}getActiveToggle(){const e=super.getElementSettings(),t=this.getElementSettings("default_toggle")?this.getElementSettings("default_toggle"):"";let s="";return t&&0<t&&(s=t),e.toggles.forEach((function(e,t){let n=e.toggle_custom_id;"#"!==n.charAt(0)&&(n="#"+n.slice(0)),window.location.hash===n&&(s=t+1)})),s}getDefaultElements(){const e=this.getSettings("selectors");return{$widget:this.$element,$toggleTitle:this.findElement(e.toggleTitle),$toggleContent:this.findElement(e.toggleContent)}}handleKeyboardNavigation(e){const t=e.currentTarget,s=jQuery(t.closest(this.getSettings("selectors").tablist)),n=s.find(this.getSettings("selectors").tabTitle),i="vertical"===s.attr("aria-orientation");switch(e.key){case"ArrowLeft":case"ArrowRight":if(i)return;break;case"ArrowUp":case"ArrowDown":if(!i)return;e.preventDefault();break;case"Home":return e.preventDefault(),void n.first().focus();case"End":return e.preventDefault(),void n.last().focus();default:return}const a=t.getAttribute("data-tab")-1,l=this.getSettings("keyDirection")[e.key],o=n[a+l];o?o.focus():-1===a+l?n.last().focus():n.first().focus()}deactivateActiveTab(e){const t=this.getSettings(),s=t.classes.activeToggle,n=e?'[data-tab="'+e+'"]':"."+s,i=this.elements.$toggleTitle.filter(n),a=this.elements.$toggleContent.filter(n);i.parent().removeClass(s),i.add(a).removeClass(s),i.attr({tabindex:"-1","aria-selected":"false","aria-expanded":"false"}),a[t.hideTabFn](),a.attr("hidden","hidden")}activateTab(e){const t=this.getSettings(),s=t.classes.activeToggle,n=this.elements.$toggleTitle.filter('[data-tab="'+e+'"]'),i=this.elements.$toggleContent.filter('[data-tab="'+e+'"]'),a="show"===t.showTabFn?0:400;n.parent().addClass(s),n.add(i).addClass(s),n.attr({tabindex:"0","aria-selected":"true","aria-expanded":"true"}),i[t.showTabFn](a,(()=>elementorFrontend.elements.$window.trigger("resize"))),i.removeAttr("hidden")}bindEvents(){this.elements.$toggleTitle.on({keydown:e=>{jQuery(e.target).is("a")&&"Enter"===e.key&&e.preventDefault(),["End","Home","ArrowUp","ArrowDown"].includes(e.key)&&this.handleKeyboardNavigation(e)},keyup:e=>{switch(e.key){case"ArrowLeft":case"ArrowRight":this.handleKeyboardNavigation(e);break;case"Enter":case"Space":e.preventDefault(),this.changeTab(e.currentTarget.getAttribute("data-tab"))}},click:e=>{e.preventDefault(),this.changeTab(e.currentTarget.getAttribute("data-tab"))}}),jQuery(document).on("click",this.getSettings("selectors.links"),this.handleAnchorLinks.bind(this)),jQuery(window).on("elementor/frontend/init",this.goToElement(window.location.hash))}goToElement(e){const t=this.elements.$widget,s=t.find(`.elementor-widget-cmsmasters-toggles__item[toggle_custom_id="${e}"]`);if(e&&s.length){let e=t.offset().top;if(elementorFrontend.elements.$wpAdminBar.length){e-=elementorFrontend.elements.$wpAdminBar.height()}jQuery("html, body").animate({scrollTop:e})}}handleAnchorLinks(e){const t=this.getElementSettings(),s=e.currentTarget,n=location.pathname===s.pathname;location.hostname!==s.hostname||!n||s.hash.length<2||(t.toggles.forEach(((e,t)=>{let n=e.toggle_custom_id;"#"!==n.charAt(0)&&(n="#"+n.slice(0)),s.hash!==n&&this.isActiveTab(t+1)&&this.deactivateActiveTab(t+1),s.hash!==n||this.isActiveTab(t+1)||this.changeTab(t+1)})),this.goToElement(s.hash))}changeTab(e){const t=this.isActiveTab(e),s=this.getSettings();s.hidePrevious&&this.deactivateActiveTab(),!s.hidePrevious&&t&&this.deactivateActiveTab(e),t||this.activateTab(e)}isActiveTab(e){return this.elements.$toggleTitle.filter('[data-tab="'+e+'"]').hasClass(this.getSettings("classes.activeToggle"))}}t.default=Toggles}}]);