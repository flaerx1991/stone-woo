/*! cmsmasters-elementor-addon - v1.11.6 - 05-03-2024 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[9517],{2277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class _default extends elementorModules.frontend.handlers.Base{__construct(){super.__construct(...arguments),this.bindElements=[],this.deviceNames=["mobile","tablet","desktop"],this.devicePrefixMaps={mobile:"mobile",tablet:"tablet",desktop:""}}bindElementChange(e,t){this.bindElements.push([e,t])}onElementChange(e){this.bindElements&&this.bindElements.length&&this.bindElements.forEach((t=>{let[s]=t;Array.isArray(s)||(s=s.split(/\s/));const[,n]=t;s.some((t=>{if(-1!==[t,`${t}_tablet`,`${t}_mobile`].indexOf(e))return n(...arguments),!0}))}))}onDestroy(){this.trigger("destroy:before"),super.onDestroy()}getCurrentDeviceSettingInherit(e){const t=["desktop","tablet","mobile"],s=elementorFrontend.getCurrentDeviceMode(),n=this.getElementSettings();let i=t.indexOf(s);for(;i>0;){const s=n[e+"_"+t[i]];if(s&&"object"==typeof s&&Object.prototype.hasOwnProperty.call(s,"size")&&s.size)return s;i--}return n[e]}getCurrentDeviceSettingSize(e){let t=this.getCurrentDeviceSettingInherit(e);return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"size")&&(t=t.size),t}}t.default=_default},4293:(e,t,s)=>{var n=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(s(2277));class AddToCart extends i.default{getDefaultSettings(){return{selectors:{variations:".variations_form",wpcvsTerms:".wpcvs-terms",select:".variations select"}}}getDefaultElements(){const{selectors:e}=this.getSettings();return{$variations:this.findElement(e.variations),$wpcvsTerms:this.findElement(e.wpcvsTerms),$select:this.findElement(e.select)}}bindEvents(){super.bindEvents(),this.elements.$wpcvsTerms.on("click",this.changeBadgeSale.bind(this)),jQuery(document).on("reset_data",(()=>{this.changeBadgeSale()}))}onInit(){super.onInit(),this.changeBadgeSale()}isMatch(e,t){let s=!0;for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],r=t[n];void 0!==i&&void 0!==r&&0!==i.length&&0!==r.length&&i!==r&&(s=!1)}return s}findMatchingVariations(e,t){const s=[];if(e){for(let n=0;n<e.length;n++){const i=e[n];this.isMatch(i.attributes,t)&&s.push(i)}return s}}getChosenAttributes(){const e={};let t=0,s=0;return this.elements.$select.each((function(){const n=jQuery(this).data("attribute_name")||jQuery(this).attr("name"),i=jQuery(this).val()||"";i.length>0&&s++,t++,e[n]=i})),{count:t,chosenCount:s,data:e}}changeBadgeSale(e,t){let s="";jQuery("body").hasClass("single-product")?s=jQuery("body").find(".elementor-widget-cmsmasters-woo-badge-sale"):jQuery("body").find(".cmsmasters_product_entry")&&(s=jQuery(".cmsmasters_product_entry").find(".elementor-widget-cmsmasters-woo-badge-sale"));const n=this.elements.$variations.data("product_variations");if(!n)return;const i=void 0!==t?t:this.getChosenAttributes(),r=this.findMatchingVariations(n,i.data).shift(),a=r.display_price,o=r.display_regular_price;let l="";if(l=s.hasClass("cmsmasters-discoun-rounding-yes")?Math.round((o-a)/o*100):((o-a)/o*100).toFixed(1),0===l||"0.0"===l)s.hide();else{s.find(".cmsmasters-woo-badge-inner-text").text((function(e,t){const n=t.match(/[\d.]+/);if(!n)return s.show(),t;{const e=n[0];if(0!==e&&"0.0"!==e)return s.show(),t.replace(e,l);s.hide()}}))}}}t.default=AddToCart}}]);