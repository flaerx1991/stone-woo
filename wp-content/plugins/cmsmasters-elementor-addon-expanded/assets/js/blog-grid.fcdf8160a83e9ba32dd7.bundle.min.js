/*! cmsmasters-elementor-addon - v1.11.6 - 05-03-2024 */
"use strict";(self.webpackChunkcmsmasters_elementor_addon=self.webpackChunkcmsmasters_elementor_addon||[]).push([[8454],{9394:(e,t,s)=>{var n=s(3203);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(s(5246)),i=n(s(5898)),r=n(s(7537));class BlogGrid extends o.default{__construct(){super.__construct(...arguments),this.handles=null,this.templateControls=["blog_template_id"]}bindEvents(){if(!this.elements.$posts.length)return;super.bindEvents(),this.bindElementChange(["masonry","columns","meta_data_top_space_between","meta_data_bottom_space_between","taxonomy_meta_data_top_space_between","taxonomy_meta_data_bottom_space_between"],this.initMasonry.bind(this)),this.bindElementChange("columns post_gap_column layout_post_space",(()=>{this.initBorderColumn(),this.trigger("widget-resize")})),this.bindElementChange("border_vertical_width border_columns_type",this.initBorderColumn.bind(this)),this.bindElementChange("columns border_columns_type border_horizontal_width",this.initBorderRow.bind(this)),this.on("ajaxInsertHTML:after",this.reLayout.bind(this));new IntersectionObserver((()=>{setTimeout(function(){this.reLayout.bind(this)}.bind(this),300)})).observe(this.$element.get(0),{rootMargin:"500px 0px 500px 0px"})}onPostResizeOnce(){super.onPostResizeOnce(...arguments),this.removeBorderColumns()}reLayout(){super.reLayout(...arguments),this.initMasonry(),this.initBorderColumn(),this.initBorderRow()}onPostResize(){this.resetLayout(),super.onPostResize(...arguments)}onInit(){super.onInit(),this.initHandles(),this.initBorderColumn()}initMasonry(){if(this.removeMasonry(),!this.isMasonry())return;const e=this.elements.$postsWrap.css("gridRowGap");let t,s=parseFloat(e);isNaN(s)?(s=0,t="px"):t=e.replace(/[0-9]|\./g,"");let n=s;"%"===t&&(n=s*this.elements.$postsWrap.width()/100),this.elements.$postsWrap.context=document.body;const o=new elementorModules.utils.Masonry({container:this.elements.$postsWrap,items:this.elements.$posts,columnsCount:this.getColumns(),verticalSpaceBetween:n});this.$element.imagesLoaded(o.run.bind(o))}removeMasonry(){this.elements.$posts.css({marginTop:""})}isMasonry(){const e=this.getColumns();return this.elements.$posts.length&&1<e&&Boolean(this.getElementSettings("masonry"))}getColumns(){return Number(this.getCurrentDeviceSetting("columns"))}initBorderColumn(){this.borderColumns?this.borderColumns.update():this.borderColumns=new r.default({widget:this,$container:()=>this.elements.$postsWrap,$items:()=>this.elements.$posts,columns:()=>this.getColumns()})}initBorderRow(){const e=this.getCurrentDeviceSettingSize("border_horizontal_width"),t=this.getElementSettings("border_columns_type"),s=this.getColumns();this.elements.$posts.removeClass("separator-vertical"),t&&e&&this.elements.$posts.filter(`:not(:nth-last-of-type(-n+${s}))`).addClass("separator-vertical")}resetLayout(){this.removeBorderColumns(),this.removeMasonry()}removeBorderColumns(){this.borderColumns&&this.borderColumns.clear()}initHandles(){if(!elementorFrontend.isEditMode())return;const e={};this.templateControls.forEach((t=>{const s=this.getElementSettings(t);if(!s)return!1;e[t]=s})),this.handles=new i.default({widget:this.$element,controls:e,type:"listing"})}}t.default=BlogGrid}}]);